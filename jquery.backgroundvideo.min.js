/*
* jQuery Background video plugin for jQuery
* ---
* Copyright 2011, Victor Coulon (http://victorcoulon.fr)
* Released under the MIT, BSD, and GPL Licenses.
* based on jQuery Plugin Boilerplate 1.3
*/

!function(t){t.backgroundVideo=function(e,i){var n={videoid:"video_background",autoplay:!0,loop:!0,preload:!0,sound:!0},o=this;o.settings={};var s=function(){o.settings=t.extend({},n,i),o.el=e,d()},d=function(){var e="",i="",n="",s="",d="",l=o.settings.preload,v=o.settings.autoplay,a=o.settings.loop;_sound=o.settings.sound,i=l?'preload="auto"':"",_sound||(d=" muted "),n=v?'autoplay="autoplay"':"",s=a?'loop="true"':"",e+='<video id="'+o.settings.videoid+'"'+i+n+s+d,o.settings.poster&&(e+=' poster="'+o.settings.poster+'" '),e+='style="display:none;position:fixed;top:0;left:0;bottom:0;right:0;z-index:-100;width:100%;height:100%;">';for(var h=0;h<o.settings.types.length;h++)e+='<source src="'+o.settings.path+o.settings.filename+"."+o.settings.types[h]+'" type="video/'+o.settings.types[h]+'" />';e+="bgvideo</video>",o.el.html(e),o.videoEl=document.getElementById(o.settings.videoid),o.$videoEl=t(o.videoEl),o.$videoEl.fadeIn(2e3),g()},g=function(){var t=l();o.$videoEl.width(t*o.settings.width),o.$videoEl.height(t*o.settings.height),"undefined"!=typeof o.settings.align&&v()},l=function(){var e=t(window).width(),i=t(window).height(),n=e/i,s=o.settings.width/o.settings.height,d=i/o.settings.height;return n>=s&&(d=e/o.settings.width),d},v=function(){var e=(t(window).width()>>1)-(o.$videoEl.width()>>1)|0,i=(t(window).height()>>1)-(o.$videoEl.height()>>1)|0;return"centerXY"==o.settings.align?void o.$videoEl.css({left:e,top:i}):"centerX"==o.settings.align?void o.$videoEl.css("left",e):"centerY"==o.settings.align?void o.$videoEl.css("top",i):void 0};s(),t(window).resize(function(){g()}),o.$videoEl.bind("ended",function(){this.play()})}}(jQuery);