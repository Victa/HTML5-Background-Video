/*
* jQuery Background video plugin for jQuery
* ---
* Copyright 2011, Victor Coulon (http://victorcoulon.fr)
* Released under the MIT, BSD, and GPL Licenses.
* based on jQuery Plugin Boilerplate 1.3
*/
(function(a){a.backgroundVideo=function(b,c){var d={videoid:"video_background"},e=this;e.settings={};var f=function(){e.settings=a.extend({},d,c),e.el=b,g()},g=function(){var b="";b+='<video id="'+e.settings.videoid+'" preload="auto" autoplay="autoplay" loop="loop"',b+='style="display:none;position:fixed;top:0;left:0;bottom:0;right:0;z-index:-100;width:100%;height:100%;">';for(var c=0;c<e.settings.types.length;c++)b+='<source src="'+e.settings.path+e.settings.filename+"."+e.settings.types[c]+'" type="video/'+e.settings.types[c]+'" />';b+="bgvideo</video>",a("body").prepend(b),e.videoEl=document.getElementById(e.settings.videoid),e.$videoEl=a(e.videoEl),e.$videoEl.fadeIn(2e3),h()},h=function(){var a=i();e.$videoEl.width(a*e.settings.width),e.$videoEl.height(a*e.settings.height),typeof e.settings.align!="undefined"&&j()},i=function(){var b=a(window).width(),c=a(window).height(),d=b/c,f=e.settings.width/e.settings.height,g=c/e.settings.height;return d>=f&&(g=b/e.settings.width),g},j=function(){var b=(a(window).width()>>1)-(e.$videoEl.width()>>1)|0,c=(a(window).height()>>1)-(e.$videoEl.height()>>1)|0;if(e.settings.align=="centerXY"){e.$videoEl.css({left:b,top:c});return}if(e.settings.align=="centerX"){e.$videoEl.css("left",b);return}if(e.settings.align=="centerY"){e.$videoEl.css("top",c);return}};f(),a(window).resize(function(){h()}),e.$videoEl.bind("ended",function(){this.play()})}})(jQuery)